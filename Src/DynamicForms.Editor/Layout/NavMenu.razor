<div class="nav-menu @NavMenuCssClass" @onclick="ToggleNavMenu">
    <button class="navbar-toggler" @onclick="ToggleNavMenu">
        <span class="navbar-toggler-icon"></span>
    </button>

    <nav class="@NavMenuCssClass nav-scrollable">
        <!-- Main Navigation -->
        <div class="nav-section">
            <div class="nav-item">
                <NavLink class="nav-link" href="" Match="NavLinkMatch.All">
                    <i class="bi bi-house-door-fill"></i>
                    <span>Dashboard</span>
                </NavLink>
            </div>
        </div>

        <!-- Browse Section -->
        <div class="nav-section">
            <div class="nav-section-title">Browse</div>
            <div class="nav-item">
                <NavLink class="nav-link" href="modules">
                    <i class="bi bi-folder2-open"></i>
                    <span>Modules</span>
                </NavLink>
            </div>
            <div class="nav-item">
                <NavLink class="nav-link" href="workflows">
                    <i class="bi bi-diagram-3-fill"></i>
                    <span>Workflows</span>
                </NavLink>
            </div>
        </div>

        <!-- Create Section -->
        <div class="nav-section">
            <div class="nav-section-title">Create</div>
            <div class="nav-item">
                <NavLink class="nav-link" href="editor/module">
                    <i class="bi bi-plus-square-fill"></i>
                    <span>New Module</span>
                </NavLink>
            </div>
            <div class="nav-item">
                <NavLink class="nav-link" href="editor/workflow">
                    <i class="bi bi-plus-circle-fill"></i>
                    <span>New Workflow</span>
                </NavLink>
            </div>
        </div>

        <!-- Settings Section -->
        <div class="nav-section">
            <div class="nav-item">
                <NavLink class="nav-link" href="settings">
                    <i class="bi bi-gear-fill"></i>
                    <span>Settings</span>
                </NavLink>
            </div>
        </div>

        <!-- Development/Testing Section -->
        <div class="nav-section">
            <div class="nav-section-title">Development</div>
            <div class="nav-item">
                <NavLink class="nav-link" href="field-list-demo">
                    <i class="bi bi-ui-checks"></i>
                    <span>Field List Demo</span>
                </NavLink>
            </div>
            <div class="nav-item">
                <NavLink class="nav-link" href="workflow-preview-demo">
                    <i class="bi bi-play-circle-fill"></i>
                    <span>Workflow Preview Demo</span>
                </NavLink>
            </div>
        </div>
    </nav>
</div>

@code {
    private bool collapseNavMenu = true;

    private string? NavMenuCssClass => collapseNavMenu ? "collapse" : null;

    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }
}
